(this["webpackJsonpsnake-game"]=this["webpackJsonpsnake-game"]||[]).push([[0],[,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(6),o=n.n(r),l=(n(11),n(2)),i=n(3),s=n(0),u={start:!0,game:!1,end:!1,activity:!1,countdown:!1},d=function(e,t){switch(t.type){case"START_SCREEN":return Object(i.a)(Object(i.a)({},e),{},{start:!0,game:!1,activity:!1,end:!1,countdown:!1});case"GAME_BOARD":return Object(i.a)(Object(i.a)({},e),{},{start:!1,game:!0,activity:!1,end:!1,countdown:!0});case"GAME_START":return Object(i.a)(Object(i.a)({},e),{},{start:!1,game:!0,activity:!0,end:!1,countdown:!1});case"GAMEOVER":return Object(i.a)(Object(i.a)({},e),{},{start:!1,game:!1,activity:!1,end:!0,countdown:!1});default:return console.log("Invalide action type: ".concat(t.type)),e}},j=Object(c.createContext)(),b=function(){return Object(c.useContext)(j)},v=function(e){var t=Object(c.useReducer)(d,u),n=Object(l.a)(t,2),a=n[0],r=n[1];return Object(s.jsx)(j.Provider,Object(i.a)({value:[a,r]},e))},O=n(5);var f=n.p+"static/media/gameover.a5422d4b.PNG",h=(n(13),function e(t){Object(O.a)(this,e),this.value=t,this.next=null}),w=function e(t){Object(O.a)(this,e);var n=new h(t);this.head=n,this.tail=n},m="UP",x="RIGHT",p="DOWN",y="LEFT",g=function(e){var t=e.length,n=e[0].length,c=Math.round(t/3),a=Math.round(n/3);return{row:c,col:a,cell:e[c][a]}},S=function(e){for(var t=1,n=[],c=0;c<e;c++){for(var a=[],r=0;r<e;r++)a.push(t++);n.push(a)}return n},E=function(e,t){return t===m?{row:e.row-1,col:e.col}:t===x?{row:e.row,col:e.col+1}:t===p?{row:e.row+1,col:e.col}:t===y?{row:e.row,col:e.col-1}:void 0},N=function(e,t){var n=e.row,c=e.col;return n<0||c<0||(n>=t.length||c>=t[0].length)},A=function(e){return"ArrowUp"===e?m:"ArrowRight"===e?x:"ArrowDown"===e?p:"ArrowLeft"===e?y:""},k=function(e,t){if(null===e.next)return t;var n=e.value,c=n.row,a=n.col,r=e.next.value,o=r.row,l=r.col;return o===c&&l===a+1?x:o===c&&l===a-1?y:l===a&&o===c+1?p:l===a&&o===c-1?m:""},T=function(e,t){var n=k(e,t),c=R(n),a={row:e.value.row,col:e.value.col};return E(a,c)},R=function(e){return e===m?p:e===x?y:e===p?m:e===y?x:void 0},M=function(e,t,n,c){var a="cell";return e===t&&(a=n?"cell cell-purple":"cell cell-red"),c.has(e)&&(a="cell cell-green"),a},G=function(){var e=Object(c.useState)(0),t=Object(l.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(S(15)),o=Object(l.a)(r,2),i=o[0],u=(o[1],Object(c.useState)(new w(g(i)))),d=Object(l.a)(u,2),j=d[0],v=d[1],O=Object(c.useState)(new Set([j.head.value.cell])),f=Object(l.a)(O,2),m=f[0],p=f[1],y=Object(c.useState)(j.head.value.cell+5),G=Object(l.a)(y,2),C=G[0],I=G[1],_=Object(c.useState)(x),B=Object(l.a)(_,2),D=B[0],F=B[1],L=Object(c.useState)(!1),P=Object(l.a)(L,2),J=P[0],U=P[1],V=b(),z=Object(l.a)(V,2),H=z[0],W=H.activity,q=(H.start,H.game,H.end,z[1]);Object(c.useEffect)((function(){window.addEventListener("keydown",(function(e){K(e)}))}),[]),function(e,t){var n=Object(c.useRef)();Object(c.useEffect)((function(){n.current=e}),[e]),Object(c.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){W&&Q()}),150);var K=function(e){var t=A(e.key);""!==t&&(R(t)===D&&m.size>1||F(t))},Q=function(){var e={row:j.head.value.row,col:j.head.value.col},t=E(e,D);if(N(t,i))$();else{var n=i[t.row][t.col];if(m.has(n))$();else{var c=new h({row:t.row,col:t.col,cell:n}),a=j.head;j.head=c,a.next=c;var r=new Set(m);r.delete(j.tail.value.cell),r.add(n),j.tail=j.tail.next,null===j.tail&&(j.tail=j.head),n===C&&(X(r),J&&Y(),Z(r)),p(r)}}},X=function(e){var t=T(j.tail,D);if(!N(t,i)){var n=i[t.row][t.col],c=new h({row:t.row,col:t.col,cell:n}),a=j.tail;j.tail=c,j.tail.next=a,e.add(n)}},Y=function(){var e=k(j.tail,D),t=R(e);F(t),function(e){for(var t=null,n=e;null!==n;){var c=n.next;n.next=t,t=n,n=c}}(j.tail);var n=j.head;j.head=j.tail,j.tail=n},Z=function(e){for(var t,c,r;c=1,r=225,t=Math.floor(Math.random()*(r-c+1)+c),e.has(t)||C===t;);var o=Math.random()<.3;I(t),U(o),a(n+1)},$=function(){a(0);var e=g(i);v(new w(e)),I(e.cell+5),p(new Set([e.cell])),q({type:"GAMEOVER"})};return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{children:[Object(s.jsxs)("h1",{children:["Score: ",n]}),Object(s.jsx)("div",{className:"board",children:i.map((function(e,t){return Object(s.jsx)("div",{className:"row",children:e.map((function(e,t){var n=M(e,C,J,m);return Object(s.jsx)("div",{className:n},t)}))},t)}))})]})})};n(14);var C=function(){var e=b(),t=Object(l.a)(e,2),n=t[0],c=n.end,a=(n.countdown,t[1]);return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{className:"gameoverContainer",style:{display:c?"block":"none"},children:Object(s.jsxs)("div",{className:"dropGameover",children:[Object(s.jsx)("div",{children:Object(s.jsx)("button",{onClick:function(){a({type:"START_SCREEN"})},children:"Start screen"})}),Object(s.jsx)("img",{src:f,alt:"Gameover",className:"goImg"})]})})})};n(15);var I=function(){var e=b(),t=Object(l.a)(e,2),n=t[0],a=n.start,r=n.countdown,o=t[1],i=Object(c.useState)(35),u=Object(l.a)(i,2),d=u[0],j=u[1];return Object(c.useEffect)((function(){r&&d>0&&setTimeout((function(){return j(d-1)}),100),d<1&&(o({type:"GAME_START"}),j(35))}),[r,d]),Object(s.jsxs)("div",{className:"bigContainer",children:[Object(s.jsxs)("div",{className:"countdownBox",style:{display:r?"block":"none"},children:[Object(s.jsx)("div",{className:"countdownTimer",style:{display:d>25?"block":"none",opacity:35===d?"1":".5"},children:"3"}),Object(s.jsx)("div",{className:"countdownTimer",style:{display:d<=25&&d>15?"block":"none",opacity:25===d?"1":".5"},children:"2"}),Object(s.jsx)("div",{className:"countdownTimer",style:{display:d<=15&&d>5?"block":"none",opacity:15===d?"1":".5"},children:"1"}),Object(s.jsx)("div",{className:"countdownTimer",style:{display:d<=5?"block":"none"},children:"Go!"})]}),Object(s.jsx)("div",{className:"startContainer",style:{display:a?"block":"none"},children:Object(s.jsx)("div",{className:"dropStart",children:Object(s.jsx)("button",{onClick:function(){o({type:"GAME_BOARD"})},children:"Start"})})}),Object(s.jsx)(C,{}),Object(s.jsx)(G,{})]})};n(16);var _=function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{className:"App",children:Object(s.jsx)(I,{})})})};o.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(v,{children:Object(s.jsx)(_,{})})}),document.getElementById("root"))}],[[17,1,2]]]);
//# sourceMappingURL=main.0a75ee92.chunk.js.map